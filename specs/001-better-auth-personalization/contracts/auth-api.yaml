# API Contract: Better Auth Integration

## Authentication API

### /api/auth/signup [POST]
**Summary**: Register new user with background information

**Request**:
```json
{
  "email": "user@example.com",
  "password": "secure_password",
  "software_level": "beginner",
  "hardware_background": "robotics"
}
```

**Response (200)**:
```json
{
  "success": true,
  "user_id": "user_123",
  "session_token": "token_456"
}
```

**Validation**:
- Email must be valid format
- Password must meet security requirements
- software_level must be one of: beginner, intermediate, advanced
- hardware_background must be one of: robotics, embedded systems, none, other

### /api/auth/signin [POST]
**Summary**: Authenticate existing user

**Request**:
```json
{
  "email": "user@example.com",
  "password": "secure_password"
}
```

**Response (200)**:
```json
{
  "success": true,
  "user_id": "user_123",
  "session_token": "token_456",
  "background_profile": {
    "software_level": "beginner",
    "hardware_background": "robotics"
  }
}
```

## User Profile API

### /api/user/profile [GET]
**Summary**: Get current user's background profile
**Auth Required**: Bearer token

**Response (200)**:
```json
{
  "user_id": "user_123",
  "software_level": "beginner",
  "hardware_background": "robotics",
  "created_at": "2023-01-01T00:00:00Z",
  "updated_at": "2023-01-01T00:00:00Z"
}
```

### /api/user/profile [PUT]
**Summary**: Update user's background profile
**Auth Required**: Bearer token

**Request**:
```json
{
  "software_level": "intermediate",
  "hardware_background": "embedded systems"
}
```

**Response (200)**:
```json
{
  "success": true,
  "user_id": "user_123",
  "software_level": "intermediate",
  "hardware_background": "embedded systems"
}
```

## Personalization API

### /api/personalization/context [GET]
**Summary**: Get personalization context for chatbot
**Auth Required**: Bearer token

**Response (200)**:
```json
{
  "user_context": {
    "software_level": "beginner",
    "hardware_background": "robotics",
    "personalization_notes": "User is a beginner in software development with robotics experience. Provide simplified explanations with robotics examples where applicable."
  }
}
```